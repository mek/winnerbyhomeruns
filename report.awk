BEGIN {
    FS="|"
}

NF == 4 {
  if ($1 ~ /^[0-9]/) {
    if ($3+$4 == 0) {
        wl=0
    } else {
        wl=($3/($3+$4))*100.0
    }
    printf "%8d %8d %8d %8d %6.2f %6.2f %6.2f %6.2f\n",$1,$2,$3,$4,($3/$2)*100.0,($4/$2)*100.0,($2-$3-$4)/$2*100.0,wl;
    next;
  } else {
    printf "%8s %8s %8s %8s\n",$1,$2,$3,$4;
    next
  }
}

NF == 5 {
  if ($1 ~ /^[0-9]/) {
    printf "%8d %8d %8d %8d %8d %6.2f %6.2f %6.2f\n",$1,$5,$2,$3,$4,($3/$2)*100.0,($4/$2)*100.0,($2-$3-$4)/$2*100.0;
    next;
  } else {
    printf "%8s %8s %8s %8s %8s\n",$1,$5,$2,$3,$4;
    next
  }
}

/^[a-z]/ {
  print;
  next;
}

